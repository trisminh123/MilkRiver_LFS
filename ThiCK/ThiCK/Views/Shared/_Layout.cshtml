@using System.Text.Encodings.Web

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>Milk River</title>
	<link href="~/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
	<link href="~/css/prettyPhoto.css" rel="stylesheet">
	<link href="~/css/price-range.css" rel="stylesheet">
	<link href="~/css/animate.css" rel="stylesheet">
	<link href="~/css/main.css" rel="stylesheet">
	<link href="~/css/responsive.css" rel="stylesheet">
	<!--[if lt IE 9]>
	<script src="js/html5shiv.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
	<link rel="shortcut icon" href="images/ico/favicon.ico">
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">
</head><!--/head-->

<body>

	<header id="header">
		<!--header-->
		<div class="header_top">
			<!--header_top-->
			<div class="container">
				<div class="row">
					<div class="col-sm-6">
						<div class="contactinfo">
							<ul class="nav nav-pills">
								<li><a href=""><i class="fa fa-phone"></i> 0589541157</a></li>
								<li><a href=""><i class="fa fa-envelope"></i> tri.vm.64cntt@ntu.edu.vn</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="social-icons pull-right">
							<ul class="nav navbar-nav">
								<li><a href=""><i class="fab fa-facebook"></i></a></li>
								<li><a href=""><i class="fab fa-twitter"></i></a></li>
								<li><a href=""><i class="fab fa-linkedin"></i></a></li>
								<li><a href=""><i class="fab fa-dribbble"></i></a></li>
								<li><a href=""><i class="fab fa-google-plus-g"></i></a></li>

								

							</ul>
						</div>
					</div>
				</div>
			</div>
		</div><!--/header_top-->

		<div class="header-middle">
			<!--header-middle-->
			<div class="container">
				<div class="row">
					<div class="col-sm-4">
						
						

							
						</div>
					</div>
					<div class="col-sm-12">
					
						<div class="shop-menu pull-right">
							<ul class="nav navbar-nav ">
							@if (User.IsInRole("Admin") || User.IsInRole("Employee") || User.IsInRole("SalesManager"))
								{
								<li><a asp-area="Admin" asp-controller="Product" asp-action="Index"><i class="fa fa-cogs" aria-hidden="true"></i>Trang Admin</a></li>

								}


								@if(User.Identity?.IsAuthenticated ?? false)
								{
								<li><a asp-controller="Account" asp-action="History"><i class="fa fa-history"></i>Lịch sử đặt hàng</a></li>
								<li><a asp-controller="Cart" asp-action="Index"><i class="fa fa-shopping-cart"></i> Giỏ hàng</a></li>
										<li><a asp-controller="Home" asp-action="Wishlist"><i class="fa fa-heart"></i>Sản phẩm yêu thích</a></li>
										<li><a asp-controller="Home" asp-action="Compare"><i class="fa fa-star"></i>So sánh sản phẩm</a></li>
									<li class="dropdown">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
											<i class="fa fa-user"></i>@User.Identity.Name
											<span class="dropdown-arrow"></span> <!-- Mũi tên -->
										</a>
										<ul class="dropdown-menu">
											<li><a asp-controller="Account" asp-action="UpdateAccount">Cập nhật thông tin tài khoản</a></li>
											<li><a asp-controller="Account" asp-action="Logout">Đăng xuất</a></li>
										</ul>
									</li>
								}
								else
								{
								<li><a asp-controller="Account" asp-action="Login"><i class="fas fa-sign-in-alt"></i> Đăng nhập</a></li>
								<li><a asp-controller="Account" asp-action="Create"><i class="fa fa-user-plus"></i>Đăng kí</a></li>
								}
							</ul>
						</div>
					</div>
				<div class="logo pull-right">
					<h4 style="text-align:center; color:orange; font-family:'Comic Sans MS'" class="companyinfo"><span>Milk River</span></h4>
					<img href="index.html"><img style="height:100px; width:100px; " src="~/images/Dairy_Products_Logo.png" alt="" /></img>
				</div>
				</div>
			</div>
		</div><!--/header-middle-->

		<div class="header-bottom">
			<!--header-bottom-->
			<div class="container">
				<div class="row">
					<div class="col-sm-9">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
						</div>
						<div class="mainmenu pull-left">
							<ul class="nav navbar-nav collapse navbar-collapse">
								<li><a asp-controller="Home" asp-action="Index">Trang chủ</a></li>			
								<li><a asp-controller="Home" asp-action="Contact">Liên hệ</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-3">
						<form asp-controller="Product" asp-action="Search" method="POST">
							<div class="search_box pull-right">
								<input type="text" placeholder="Search" name="searchTerm" />
								<button  class="btn btn-warning" type="submit">Search</button>
							</div>
						</form>
						
					</div>
				</div>
			</div>
		</div><!--/header-bottom-->
	</header><!--/header-->


	
	
	<style>
		/* Mũi tên mặc định */
		.dropdown-arrow {
			display: inline-block;
			margin-left: 2px;
			border: solid transparent;
			border-width: 5px 5px 0; /* Tạo tam giác mũi tên */
			border-top-color: #333; /* Màu sắc của mũi tên */
			content: "";
			transition: transform 0.3s ease; /* Hiệu ứng chuyển đổi */
		}

		/* Khi dropdown được mở */
		.dropdown.open > a .dropdown-arrow {
			transform: rotate(180deg); /* Xoay mũi tên */
		}
	</style>



	<section>
		<div class="container">
			<div class="row">
				@Html.Partial("_NotificationPartial");
				@RenderBody()
			</div>
		</div>
	</section>

	<footer id="footer">
		<!--Footer-->
		<partial name="_FooterPartial" />

		@* <div class="footer-widget">
			<div class="container">
				<div class="row">
					<div class="col-sm-2">
						<div class="single-widget">
							<h2>Service</h2>
							<ul class="nav nav-pills nav-stacked">
								<li><a href="#">Online Help</a></li>
								<li><a href="#">Contact Us</a></li>
								<li><a href="#">Order Status</a></li>
								<li><a href="#">Change Location</a></li>
								<li><a href="#">FAQ’s</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="single-widget">
							<h2>Quock Shop</h2>
							<ul class="nav nav-pills nav-stacked">
								<li><a href="#">T-Shirt</a></li>
								<li><a href="#">Mens</a></li>
								<li><a href="#">Womens</a></li>
								<li><a href="#">Gift Cards</a></li>
								<li><a href="#">Shoes</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="single-widget">
							<h2>Policies</h2>
							<ul class="nav nav-pills nav-stacked">
								<li><a href="#">Terms of Use</a></li>
								<li><a href="#">Privecy Policy</a></li>
								<li><a href="#">Refund Policy</a></li>
								<li><a href="#">Billing System</a></li>
								<li><a href="#">Ticket System</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="single-widget">
							<h2>About Shopper</h2>
							<ul class="nav nav-pills nav-stacked">
								<li><a href="#">Company Information</a></li>
								<li><a href="#">Careers</a></li>
								<li><a href="#">Store Location</a></li>
								<li><a href="#">Affillate Program</a></li>
								<li><a href="#">Copyright</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-3 col-sm-offset-1">
						<div class="single-widget">
							<h2>About Shopper</h2>
							<form action="#" class="searchform">
								<input type="text" placeholder="Your email address" />
								<button type="submit" class="btn btn-default"><i class="fa fa-arrow-circle-o-right"></i></button>
								<p>Get the most recent updates from <br />our site and be updated your self...</p>
							</form>
						</div>
					</div>

				</div>
			</div>
		</div> *@

		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					<p class="pull-left">Copyright © 2024 Milk River Inc. All rights reserved.</p>
					<p class="pull-right">Vương Minh Trí - 64132677 - 64CNTT4<span></a></span></p>
				</div>
			</div>
		</div>

	</footer><!--/Footer-->


	<script src="~/js/jquery.js"></script>
	<script src="~/js/bootstrap.min.js"></script>
	<script src="~/js/jquery.scrollUp.min.js"></script>
	<script src="~/js/price-range.js"></script>
	<script src="~/js/jquery.prettyPhoto.js"></script>
	<script src="~/js/main.js"></script>
	<script src="https://cdn.datatables.net/buttons/3.2.0/js/dataTables.buttons.js"></script>
	<script src="https://cdn.datatables.net/buttons/3.2.0/js/buttons.dataTables.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
	<script>
		let table = new DataTable('#myTable', {
			layout: {
				topStart: {
					buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
				}
			}
		});
	</script>
	<script>
		$(function () {
			// Lấy giá trị từ TempData và mã hóa
			var successMessage = '@Html.Raw(JavaScriptEncoder.Default.Encode(TempData["success"]?.ToString() ?? ""))';
			var errorMessage = '@Html.Raw(JavaScriptEncoder.Default.Encode(TempData["error"]?.ToString() ?? ""))';

			// Ưu tiên hiển thị thông báo lỗi trước, nếu có
			var message = errorMessage || successMessage;

			if (message && message.trim() !== '') {
				Swal.fire({
					title: errorMessage ? 'Lỗi' : 'Thành công',
					text: message,
					icon: errorMessage ? 'error' : 'success',
					confirmButtonText: 'OK',
					customClass: {
						title: 'swal-custom-title',
						confirmButton: 'swal-custom-button'
					}
				});
			}
		});

		$(function () {
			if ($("a.confirmDeletion").length) {
				$("a.confirmDeletion").click(function () {
					return confirm("Xác nhận xóa?");
				});
			}

			if ($("div.alert.notification").length) {
				setTimeout(() => {
					$("div.alert.notification").fadeOut();
				}, 2000);
			}
		});

		$(function () {
			if ($("a.confirmCancel").length) {
				$("a.confirmCancel").click(function () {
					return confirm("Xác nhận hủy đơn hàng?");
				});
			}

			if ($("div.alert.notification").length) {
				setTimeout(() => {
					$("div.alert.notification").fadeOut();
				}, 2000);
			}
		});
	</script>

	@await RenderSectionAsync("Scripts", required: false)

</body>
</html>
